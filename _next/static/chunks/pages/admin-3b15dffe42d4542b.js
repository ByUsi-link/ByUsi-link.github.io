(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[964],{5498:function(t,r,e){"use strict";var o=e(4836);r.Z=void 0;var n=o(e(4938)),i=e(5893);r.Z=(0,n.default)((0,i.jsx)("path",{d:"M4 9h4v11H4zm12 4h4v7h-4zm-6-9h4v16h-4z"}),"BarChart")},7547:function(t,r,e){"use strict";var o=e(4836);r.Z=void 0;var n=o(e(4938)),i=e(5893);r.Z=(0,n.default)((0,i.jsx)("path",{d:"M12 12.75c1.63 0 3.07.39 4.24.9 1.08.48 1.76 1.56 1.76 2.73V18H6v-1.61c0-1.18.68-2.26 1.76-2.73 1.17-.52 2.61-.91 4.24-.91M4 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m1.13 1.1c-.37-.06-.74-.1-1.13-.1-.99 0-1.93.21-2.78.58C.48 14.9 0 15.62 0 16.43V18h4.5v-1.61c0-.83.23-1.61.63-2.29M20 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m4 3.43c0-.81-.48-1.53-1.22-1.85-.85-.37-1.79-.58-2.78-.58-.39 0-.76.04-1.13.1.4.68.63 1.46.63 2.29V18H24zM12 6c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3"}),"Groups")},8571:function(t,r,e){"use strict";var o=e(4836);r.Z=void 0;var n=o(e(4938)),i=e(5893);r.Z=(0,n.default)((0,i.jsx)("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3m-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3m0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5"}),"People")},4938:function(t,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return o.createSvgIcon}});var o=e(122)},2293:function(t,r,e){"use strict";e.d(r,{Z:function(){return m}});var o=e(3366),n=e(7462),i=e(7294),a=e(512),s=e(4780),l=e(948),c=e(8628),u=e(8216),d=e(629),p=e(1588),f=e(4867);function getAppBarUtilityClass(t){return(0,f.ZP)("MuiAppBar",t)}(0,p.Z)("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);var x=e(5893);let Z=["className","color","enableColorOnDark","position"],useUtilityClasses=t=>{let{color:r,position:e,classes:o}=t,n={root:["root",`color${(0,u.Z)(r)}`,`position${(0,u.Z)(e)}`]};return(0,s.Z)(n,getAppBarUtilityClass,o)},joinVars=(t,r)=>t?`${null==t?void 0:t.replace(")","")}, ${r})`:r,v=(0,l.ZP)(d.Z,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,r)=>{let{ownerState:e}=t;return[r.root,r[`position${(0,u.Z)(e.position)}`],r[`color${(0,u.Z)(e.color)}`]]}})(({theme:t,ownerState:r})=>{let e="light"===t.palette.mode?t.palette.grey[100]:t.palette.grey[900];return(0,n.Z)({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},"fixed"===r.position&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},"absolute"===r.position&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},"sticky"===r.position&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},"static"===r.position&&{position:"static"},"relative"===r.position&&{position:"relative"},!t.vars&&(0,n.Z)({},"default"===r.color&&{backgroundColor:e,color:t.palette.getContrastText(e)},r.color&&"default"!==r.color&&"inherit"!==r.color&&"transparent"!==r.color&&{backgroundColor:t.palette[r.color].main,color:t.palette[r.color].contrastText},"inherit"===r.color&&{color:"inherit"},"dark"===t.palette.mode&&!r.enableColorOnDark&&{backgroundColor:null,color:null},"transparent"===r.color&&(0,n.Z)({backgroundColor:"transparent",color:"inherit"},"dark"===t.palette.mode&&{backgroundImage:"none"})),t.vars&&(0,n.Z)({},"default"===r.color&&{"--AppBar-background":r.enableColorOnDark?t.vars.palette.AppBar.defaultBg:joinVars(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":r.enableColorOnDark?t.vars.palette.text.primary:joinVars(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},r.color&&!r.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":r.enableColorOnDark?t.vars.palette[r.color].main:joinVars(t.vars.palette.AppBar.darkBg,t.vars.palette[r.color].main),"--AppBar-color":r.enableColorOnDark?t.vars.palette[r.color].contrastText:joinVars(t.vars.palette.AppBar.darkColor,t.vars.palette[r.color].contrastText)},!["inherit","transparent"].includes(r.color)&&{backgroundColor:"var(--AppBar-background)"},{color:"inherit"===r.color?"inherit":"var(--AppBar-color)"},"transparent"===r.color&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),h=i.forwardRef(function(t,r){let e=(0,c.i)({props:t,name:"MuiAppBar"}),{className:i,color:s="primary",enableColorOnDark:l=!1,position:u="fixed"}=e,d=(0,o.Z)(e,Z),p=(0,n.Z)({},e,{color:s,position:u,enableColorOnDark:l}),f=useUtilityClasses(p);return(0,x.jsx)(v,(0,n.Z)({square:!0,component:"header",ownerState:p,elevation:4,className:(0,a.Z)(f.root,i,"fixed"===u&&"mui-fixed"),ref:r},d))});var m=h},6242:function(t,r,e){"use strict";e.d(r,{Z:function(){return h}});var o=e(7462),n=e(3366),i=e(7294),a=e(512),s=e(4780),l=e(948),c=e(8628),u=e(629),d=e(1588),p=e(4867);function getCardUtilityClass(t){return(0,p.ZP)("MuiCard",t)}(0,d.Z)("MuiCard",["root"]);var f=e(5893);let x=["className","raised"],useUtilityClasses=t=>{let{classes:r}=t;return(0,s.Z)({root:["root"]},getCardUtilityClass,r)},Z=(0,l.ZP)(u.Z,{name:"MuiCard",slot:"Root",overridesResolver:(t,r)=>r.root})(()=>({overflow:"hidden"})),v=i.forwardRef(function(t,r){let e=(0,c.i)({props:t,name:"MuiCard"}),{className:i,raised:s=!1}=e,l=(0,n.Z)(e,x),u=(0,o.Z)({},e,{raised:s}),d=useUtilityClasses(u);return(0,f.jsx)(Z,(0,o.Z)({className:(0,a.Z)(d.root,i),elevation:s?8:void 0,ref:r,ownerState:u},l))});var h=v},4267:function(t,r,e){"use strict";e.d(r,{Z:function(){return v}});var o=e(7462),n=e(3366),i=e(7294),a=e(512),s=e(4780),l=e(948),c=e(8628),u=e(1588),d=e(4867);function getCardContentUtilityClass(t){return(0,d.ZP)("MuiCardContent",t)}(0,u.Z)("MuiCardContent",["root"]);var p=e(5893);let f=["className","component"],useUtilityClasses=t=>{let{classes:r}=t;return(0,s.Z)({root:["root"]},getCardContentUtilityClass,r)},x=(0,l.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(t,r)=>r.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),Z=i.forwardRef(function(t,r){let e=(0,c.i)({props:t,name:"MuiCardContent"}),{className:i,component:s="div"}=e,l=(0,n.Z)(e,f),u=(0,o.Z)({},e,{component:s}),d=useUtilityClasses(u);return(0,p.jsx)(x,(0,o.Z)({as:s,className:(0,a.Z)(d.root,i),ownerState:u,ref:r},l))});var v=Z},155:function(t,r,e){"use strict";e.d(r,{Z:function(){return v}});var o=e(3366),n=e(7462),i=e(7294),a=e(512),s=e(4780),l=e(8628),c=e(948),u=e(1588),d=e(4867);function getToolbarUtilityClass(t){return(0,d.ZP)("MuiToolbar",t)}(0,u.Z)("MuiToolbar",["root","gutters","regular","dense"]);var p=e(5893);let f=["className","component","disableGutters","variant"],useUtilityClasses=t=>{let{classes:r,disableGutters:e,variant:o}=t;return(0,s.Z)({root:["root",!e&&"gutters",o]},getToolbarUtilityClass,r)},x=(0,c.ZP)("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,r)=>{let{ownerState:e}=t;return[r.root,!e.disableGutters&&r.gutters,r[e.variant]]}})(({theme:t,ownerState:r})=>(0,n.Z)({position:"relative",display:"flex",alignItems:"center"},!r.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}},"dense"===r.variant&&{minHeight:48}),({theme:t,ownerState:r})=>"regular"===r.variant&&t.mixins.toolbar),Z=i.forwardRef(function(t,r){let e=(0,l.i)({props:t,name:"MuiToolbar"}),{className:i,component:s="div",disableGutters:c=!1,variant:u="regular"}=e,d=(0,o.Z)(e,f),Z=(0,n.Z)({},e,{component:s,disableGutters:c,variant:u}),v=useUtilityClasses(Z);return(0,p.jsx)(x,(0,n.Z)({as:s,className:(0,a.Z)(v.root,i),ref:r,ownerState:Z},d))});var v=Z},122:function(t,r,e){"use strict";e.r(r),e.d(r,{capitalize:function(){return n.Z},createChainedFunction:function(){return i},createSvgIcon:function(){return a.Z},debounce:function(){return s.Z},deprecatedPropType:function(){return utils_deprecatedPropType},isMuiElement:function(){return l.Z},ownerDocument:function(){return c.Z},ownerWindow:function(){return u.Z},requirePropFactory:function(){return utils_requirePropFactory},setRef:function(){return d},unstable_ClassNameGenerator:function(){return m},unstable_useEnhancedEffect:function(){return p.Z},unstable_useId:function(){return f},unsupportedProp:function(){return utils_unsupportedProp},useControlled:function(){return x.Z},useEventCallback:function(){return Z.Z},useForkRef:function(){return v.Z},useIsFocusVisible:function(){return h.Z}});var o=e(7078),n=e(8216),i=e(1476).Z,a=e(8169),s=e(7144),utils_deprecatedPropType=function(t,r){return()=>null},l=e(700),c=e(8038),u=e(5340);e(7462);var utils_requirePropFactory=function(t,r){return()=>null},d=e(7364).Z,p=e(8974),f=e(2996).Z,utils_unsupportedProp=function(t,r,e,o,n){return null},x=e(2021),Z=e(2068),v=e(1705),h=e(7760);let m={configure:t=>{o.Z.configure(t)}}},8195:function(t,r,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin",function(){return e(1052)}])},1052:function(t,r,e){"use strict";e.r(r),e.d(r,{default:function(){return AdminDashboard}});var o=e(5893),n=e(7294),i=e(5616),a=e(2293),s=e(155),l=e(5861),c=e(9417),u=e(3953),d=e(5568),p=e(6886),f=e(6242),x=e(4267),Z=e(1163),v=e(7955),h=e(5521),m=e(5498),g=e(8571),j=e(7547);function AdminDashboard(){let[t,r]=(0,n.useState)(null),{user:e,isAuthenticated:C}=(0,v.a)(),b=(0,Z.useRouter)();(0,n.useEffect)(()=>{if(!C||(null==e?void 0:e.email)!=="177827525@qq.com"){b.push("/");return}fetchStats()},[C,e,b]);let fetchStats=async()=>{try{let t=await fetch("/api/admin/stats",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(t.ok){let e=await t.json();r(e.data)}}catch(t){console.error("获取统计数据失败:",t)}};return C&&(null==e?void 0:e.email)==="177827525@qq.com"?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(h.Z,{title:"管理后台",description:"ByUsi 账户系统管理后台 - 系统管理和用户管理",keywords:"管理后台,系统管理,用户管理,管理员,ByUsi",noindex:!0}),(0,o.jsxs)(i.Z,{sx:{flexGrow:1},children:[(0,o.jsx)(a.Z,{position:"static",elevation:0,children:(0,o.jsxs)(s.Z,{children:[(0,o.jsx)(l.Z,{variant:"h6",component:"div",sx:{flexGrow:1},children:"管理后台 - ByUsi Account System"}),(0,o.jsx)(c.Z,{color:"inherit",onClick:()=>b.push("/dashboard"),children:"返回用户面板"})]})}),(0,o.jsxs)(u.Z,{maxWidth:"lg",sx:{mt:4},children:[(0,o.jsx)(d.Z,{severity:"info",sx:{mb:3},children:"欢迎进入管理后台，请谨慎操作。"}),(0,o.jsx)(l.Z,{variant:"h4",gutterBottom:!0,children:"系统概览"}),t&&(0,o.jsxs)(p.ZP,{container:!0,spacing:3,sx:{mt:2},children:[(0,o.jsx)(p.ZP,{item:!0,xs:12,sm:6,md:3,children:(0,o.jsx)(f.Z,{elevation:2,children:(0,o.jsxs)(x.Z,{sx:{textAlign:"center",p:3},children:[(0,o.jsx)(g.Z,{sx:{fontSize:48,color:"primary.main",mb:2}}),(0,o.jsx)(l.Z,{variant:"h4",component:"div",gutterBottom:!0,children:t.total_users}),(0,o.jsx)(l.Z,{color:"text.secondary",children:"总用户数"})]})})}),(0,o.jsx)(p.ZP,{item:!0,xs:12,sm:6,md:3,children:(0,o.jsx)(f.Z,{elevation:2,children:(0,o.jsxs)(x.Z,{sx:{textAlign:"center",p:3},children:[(0,o.jsx)(m.Z,{sx:{fontSize:48,color:"success.main",mb:2}}),(0,o.jsx)(l.Z,{variant:"h4",component:"div",gutterBottom:!0,children:t.verified_users}),(0,o.jsx)(l.Z,{color:"text.secondary",children:"已验证用户"})]})})}),(0,o.jsx)(p.ZP,{item:!0,xs:12,sm:6,md:3,children:(0,o.jsx)(f.Z,{elevation:2,children:(0,o.jsxs)(x.Z,{sx:{textAlign:"center",p:3},children:[(0,o.jsx)(j.Z,{sx:{fontSize:48,color:"info.main",mb:2}}),(0,o.jsx)(l.Z,{variant:"h4",component:"div",gutterBottom:!0,children:t.active_users}),(0,o.jsx)(l.Z,{color:"text.secondary",children:"活跃用户"})]})})}),(0,o.jsx)(p.ZP,{item:!0,xs:12,sm:6,md:3,children:(0,o.jsx)(f.Z,{elevation:2,children:(0,o.jsxs)(x.Z,{sx:{textAlign:"center",p:3},children:[(0,o.jsxs)(l.Z,{variant:"h4",component:"div",gutterBottom:!0,children:[(100*t.verification_rate).toFixed(1),"%"]}),(0,o.jsx)(l.Z,{color:"text.secondary",children:"验证率"})]})})})]}),(0,o.jsxs)(p.ZP,{container:!0,spacing:3,sx:{mt:2},children:[(0,o.jsx)(p.ZP,{item:!0,xs:12,md:6,children:(0,o.jsx)(f.Z,{elevation:2,sx:{cursor:"pointer"},onClick:()=>b.push("/admin/users"),children:(0,o.jsxs)(x.Z,{sx:{p:3},children:[(0,o.jsx)(l.Z,{variant:"h6",gutterBottom:!0,children:"用户管理"}),(0,o.jsx)(l.Z,{color:"text.secondary",children:"查看和管理所有用户账户"})]})})}),(0,o.jsx)(p.ZP,{item:!0,xs:12,md:6,children:(0,o.jsx)(f.Z,{elevation:2,children:(0,o.jsxs)(x.Z,{sx:{p:3},children:[(0,o.jsx)(l.Z,{variant:"h6",gutterBottom:!0,children:"用户组管理"}),(0,o.jsx)(l.Z,{color:"text.secondary",children:"管理用户组和权限设置"})]})})})]})]})]})]}):null}}},function(t){t.O(0,[14,886,89,774,888,179],function(){return t(t.s=8195)}),_N_E=t.O()}]);